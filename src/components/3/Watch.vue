<template>
  <div>
    <h2>ä¾¦å¬å±æ€§</h2>
    <!--$dataï¼šVue å®ä¾‹è§‚å¯Ÿçš„æ•°æ®å¯¹è±¡ã€‚Vue å®ä¾‹ä»£ç†äº†å¯¹å…¶ data å¯¹è±¡ property çš„è®¿é—®ã€‚ -->
    {{ $data }}
    <br />
    <button @click="() => (a += 1)">a+1</button>
    <br />
    ç”±äºæ”¹å˜äº†aï¼Œè§¦å‘ç›‘å¬å™¨ï¼Œæ‰§è¡Œå‡½æ•°ï¼Œä¹Ÿå°±æ”¹å˜äº†$data
  </div>
</template>
<script>
export default {
  data: function () {
    return {
      a: 1,
      b: { c: 2, d: 3 },
      e: {
        f: {
          g: 4
        }
      },
      h: []
    };
  },
  watch: {
    a: function (val, oldVal) {
      console.log(this);
      this.b.c += 1;
      console.log("new: %s, old: %s", val, oldVal);
    },
    "b.c": function (val, oldVal) {
      this.b.d += 1;
      console.log("new: %s, old: %s", val, oldVal);
    },
    "b.d": function (val, oldVal) {
      this.e.f.g += 1;
      console.log("new: %s, old: %s", val, oldVal);
    },
    e: {
      handler: function (val, oldVal) {
        this.h.push("ğŸ˜„");
        console.log("new: %s, old: %s", val, oldVal);
      },
      //   è¿™é‡Œçš„deepä»€ä¹ˆæ„æ€ï¼Ÿæ”¹å˜çš„æ˜¯e.f.gï¼Œæƒ³è¦å¤–å±‚çš„eç›‘å¬åˆ°ï¼Œå°±å¿…é¡»ä½¿ç”¨deepï¼Œæ­¤æ—¶eå¯¹è±¡ä¸‹é¢æ‰€æœ‰çš„å±æ€§éƒ½ä¼šè¢«ç›‘å¬
      deep: true
    },
    h (val, oldVal) {
      console.log("new: %s, old: %s", val, oldVal);
    }
  }
};
</script>
